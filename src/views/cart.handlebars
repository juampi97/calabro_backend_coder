<script>
  function btnCart() {
    let cartId = document.cookie.split(';')
    cartId = cartId[1].split('=')[1]
    console.log(cartId)
    window.location.href = `http://localhost:8080/carts/${cartId}`
  }

  function btnLogout() {
    window.location.href = 'http://localhost:8080/session/logout'
  }
</script>

<nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item mx-2">
          <a class="nav-link active" aria-current="page" href="/products">Productos</a>
        </li>
        <li class="nav-item mx-2">
          <button onclick="btnCart()"><a class="nav-link active" aria-current="page" >Cart</a></button>
        </li>
        <li class="nav-item mx-2">
          <button onclick="btnLogout()"><a class="nav-link active" aria-current="page" >Logout</a></button>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="container">
  <div class="d-flex flex-column">
    <h3 class="my-4 text-center">Carrito</h3>
  </div>
  <div>
    <div class="d-flex flex-row justify-content-around">
      <div class="col-8">
        <table class="table table-striped">
          <thead>
            <tr>
              <th scope="col">Titulo</th>
              <th scope="col">Descripcion</th>
              <th scope="col">Cantidad</th>
            </tr>
          </thead>
          <tbody>
            {{#each data.products}}
              <div>
                <tr>
                  <td>{{this.product.title}}</td>
                  <td>{{this.product.description}}</td>
                  <td>{{this.qty}}</td>
                </tr>
              </div>
            {{/each}}
          </tbody>
        </table>
      </div>
    </div>

  </div>
</div>